CREATE TABLE users(
user_id int(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
username varchar(255) NOT NULL, 
password varchar(255) NOT NULL, 
email varchar(255) NOT NULL UNIQUE, 
information text 
);

CREATE TABLE images(
image_id int(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
title varchar(255) NOT NULL,
url_path varchar(255) NOT NULL,
description text,
user_id int(11) NOT NULL FOREIGN KEY REFERENCES users(user_id)
);


CREATE TABLE videos(
video_id int(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
title varchar(255) NOT NULL,
url_path varchar(255) NOT NULL,
description text,
user_id int(11) NOT NULL FOREIGN KEY REFERENCES users(user_id)


);


CREATE TABLE pages(
page_id int(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
title varchar(255) NOT NULL,
content text NOT NULL,
user_id int(11) NOT NULL FOREIGN KEY REFERENCES users(user_id),
image_id int(11) NULL FOREIGN KEY REFERENCES images(image_id),
video_id int(11) NULL FOREIGN KEY REFERENCES videos(video_id)

);


CREATE TABLE url_alias(
alias_id int(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
url_path varchar(255) NOT NULL,
page_id int(11) NOT NULL FOREIGN KEY REFERENCES pages(page_id)

);

CREATE TABLE menus (
machine_name varchar(255) PRIMARY KEY NOT NULL,
menu_name varchar(255) NOT NULL
);

CREATE TABLE menu_links (
menu_link_id int(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
title varchar(255) NOT NULL,
url_path varchar(255) NOT NULL,
menu varchar(255) NOT NULL FOREIGN KEY REFERENCES menus(machine_name),
page_link_id NULL FOREIGN KEY REFERENCES menu_links(menu_link_id),
weight int(11) DEFAULT 0
);


